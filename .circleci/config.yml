version: 2.1

jobs:
  deploy:
    docker:
      - image: circleci/ruby:2.4.2-jessie-node
    steps:
      - checkout
      - run:
          name: Update gem
          command: |
            gem update --system
      - run:
          name: Bundle install
          command: |
            bundle install
      # - run:
      #     name: Set Python 3.7
      #     command: |
      #       pyenv versions
      #       pyenv global 3.7.0
      # - run:
      #     name: Install serverless
      #     command: |
      #       npm install -g serverless
      # - run:
      #     name: Install request-eval-txn serverless plugins
      #     command: |
      #       npm install
      - run:
          name: Deploy new documentation
          command: |
             ./deploy.sh

workflows:
  deploy:
    jobs:
      - deploy
      # :
      #     filters:
      #       branches:
      #         only:
      #           - master
